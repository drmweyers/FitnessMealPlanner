# FitMeal Pro - Environment Variables Template
# Copy this file to .env and fill in your actual values

# Database Configuration
DATABASE_URL="postgresql://user:password@host:port/database"

# OpenAI Configuration (Required for meal plan generation)
OPENAI_API_KEY="sk-proj-your-key-here"

# Session & Authentication Secrets
SESSION_SECRET="your-super-secret-session-secret-min-32-chars"
JWT_SECRET="your-jwt-secret-key-that-is-at-least-32-characters-long"

# Redis Configuration (Optional - uses in-memory if not set)
REDIS_URL="redis://:password@host:port"
REDIS_HOST="localhost"
REDIS_PORT="6379"
REDIS_PASSWORD="redis_password"
REDIS_DB="0"

# Cache Configuration
CACHE_ENABLED="true"
CACHE_PREFIX="fitnessmeal:"
CACHE_DEFAULT_TTL="3600"
CACHE_COMPRESSION_THRESHOLD="1024"

# Rate Limiting Configuration
RATE_LIMIT_ENABLED="true"
RATE_LIMIT_WINDOW_MS="900000"
RATE_LIMIT_MAX_REQUESTS="100"
RATE_LIMIT_SKIP_SUCCESSFUL="false"

# Session Store Configuration
SESSION_STORE_TYPE="redis"
SESSION_COMPRESS="true"
SESSION_ENCRYPTION_SECRET="your-session-encryption-secret"

# Feature Flags
CACHE_MIDDLEWARE_ENABLED="true"
REDIS_SESSION_STORE_ENABLED="true"
CACHE_INVALIDATION_ENABLED="true"
RATE_LIMITING_ENABLED="true"

# ==========================================
# S3 Configuration (Required for image uploads)
# ==========================================
# IMPORTANT: This project uses DigitalOcean Spaces, NOT AWS S3
# DO NOT use MinIO credentials (minioadmin/minioadmin) - those are for local testing only
# AWS_ENDPOINT is CRITICAL - without it, SDK tries to connect to AWS instead of DigitalOcean
# Source of correct credentials: dev-env-variables.txt or .env.BACKUP
# ==========================================
S3_BUCKET_NAME="pti"
AWS_REGION="tor1"
AWS_ACCESS_KEY_ID="your-digitalocean-spaces-key"
AWS_SECRET_ACCESS_KEY="your-digitalocean-spaces-secret"
AWS_ENDPOINT="https://tor1.digitaloceanspaces.com"
AWS_IS_PUBLIC_BUCKET="true"

# Application Configuration
NODE_ENV="production"
PORT="5001"

# Optional: Cookie Configuration
COOKIE_SECRET="your-cookie-secret"

# Optional: Frontend URL (for CORS)
FRONTEND_URL="https://yourdomain.com"

# Optional: Database SSL Certificate (for production)
DATABASE_CA_CERT="-----BEGIN CERTIFICATE-----\nYour CA cert here\n-----END CERTIFICATE-----"
NODE_EXTRA_CA_CERTS="/path/to/ca.pem"
