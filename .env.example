# Copy this file to .env and update with your values
# IMPORTANT: Never commit real API keys or secrets to version control!

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/fitmeal
DB_SSL_MODE=disable

# JWT Configuration (Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))")
JWT_SECRET=REPLACE_WITH_STRONG_64_BYTE_HEX_SECRET
JWT_REFRESH_SECRET=REPLACE_WITH_ANOTHER_STRONG_64_BYTE_HEX_SECRET
BCRYT_SALT_ROUNDS=12
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=30d

# Server Configuration
NODE_ENV=development
PORT=4000

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:4000

# Email Configuration (Resend - for invitations)
RESEND_API_KEY=REPLACE_WITH_REAL_RESEND_API_KEY
FROM_EMAIL=FitnessMealPlanner <noreply@yourdomain.com>

# Cookie Configuration (Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
COOKIE_SECRET=REPLACE_WITH_STRONG_32_BYTE_HEX_SECRET

# Optional: Logging
LOG_LEVEL=info

# AWS S3 Configuration (for profile image uploads)
# WARNING: Never commit real AWS credentials!
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
AWS_REGION=us-east-1
AWS_S3_BUCKET_NAME=fitnessmealplanner-uploads
AWS_ENDPOINT=https://your-region.digitaloceanspaces.com

# OpenAI Configuration (if using AI features)
# WARNING: Never commit real API keys!
OPENAI_API_KEY=REPLACE_WITH_OPENAI_API_KEY
OPENAI_ORGANIZATION_KEY=REPLACE_WITH_OPENAI_ORG_KEY

# Security Notes:
# 1. Generate all secrets with crypto.randomBytes()
# 2. Use environment-specific values (dev/staging/prod)
# 3. Rotate secrets regularly
# 4. Never commit real secrets to version control
# 5. Use proper secret management in production

# =========================================
# STRIPE CONFIGURATION (HYBRID PRICING MODEL)
# =========================================
# Required for subscription and one-time payment processing
# Docs: https://stripe.com/docs

# Stripe API Keys
# Get from: https://dashboard.stripe.com/apikeys
# Use test keys (sk_test_*) for development
# Use live keys (sk_live_*) for production
STRIPE_SECRET_KEY=REPLACE_WITH_STRIPE_SECRET_KEY

# Stripe Webhook Secret
# Get from: https://dashboard.stripe.com/webhooks
# Endpoint URL: https://yourdomain.com/api/subscription/webhook
# Events: checkout.session.completed, customer.subscription.updated,
#         customer.subscription.deleted, invoice.payment_failed
STRIPE_WEBHOOK_SECRET=REPLACE_WITH_STRIPE_WEBHOOK_SECRET

# Stripe Product Price IDs (Monthly Subscriptions)
# Create products in: https://dashboard.stripe.com/products
STRIPE_PRICE_ID_STARTER_MONTHLY=REPLACE_WITH_STARTER_PRICE_ID    # $14.99/month
STRIPE_PRICE_ID_PROFESSIONAL_MONTHLY=REPLACE_WITH_PRO_PRICE_ID   # $29.99/month
STRIPE_PRICE_ID_ENTERPRISE_MONTHLY=REPLACE_WITH_ENT_PRICE_ID     # $59.99/month

# =========================================
# STRIPE SETUP INSTRUCTIONS
# =========================================
#
# 1. Create Stripe Account: https://dashboard.stripe.com/register
# 2. Create 3 Products:
#    - Starter Pro: $14.99/month recurring
#    - Professional Pro: $29.99/month recurring
#    - Enterprise Pro: $59.99/month recurring
# 3. Copy Price IDs (format: price_xxxxx) from each product
# 4. Get Secret Key from: https://dashboard.stripe.com/apikeys
# 5. Configure Webhook endpoint pointing to: /api/subscription/webhook
# 6. Test with: stripe listen --forward-to localhost:4000/api/subscription/webhook
#
# Test Card: 4242 4242 4242 4242 (any expiry/CVC)
# Docs: https://stripe.com/docs/testing
#
# =========================================
# END STRIPE CONFIGURATION
# =========================================